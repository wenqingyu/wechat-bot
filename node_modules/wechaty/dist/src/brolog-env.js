"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Wechaty - Wechat for Bot
 *
 *  use brolog here is because log in wechaty has to support both nodejs and browser(with electron)
 *
 */
// const log = require('npmlog')
const brolog_1 = require("brolog");
exports.Brolog = brolog_1.Brolog;
const level = process.env['WECHATY_LOG'];
// use a typescript switch/case/default: never to replace regex
const levelRegexStr = 'silly|verbose|info|warn|error|silent';
const levelRegex = new RegExp(levelRegexStr, 'i');
if (levelRegex.test(level)) {
    // log.level = level.toLowerCase()
    exports.log = new brolog_1.Brolog(level);
    exports.log.silly('Brolog', 'WECHATY_LOG set level to %s', level);
}
else {
    exports.log = new brolog_1.Brolog();
    if (level) {
        exports.log.warn('Brolog', 'env WECHATY_LOG(%s) must be one of silly|verbose|info|warn|error|silent', level);
    }
}
//# sourceMappingURL=brolog-env.js.map